(function(a){a.fn.extend({addClear:function(c){var b=this.selector;var c=a.extend({closeSymbol:"?",color:"#CCC",top:2,right:5,returnFocus:true,showOnLoad:false,onClear:null,hideOnBlur:false},c);a(this).wrap("<span style='position:relative;' class='add-clear-span'>");a(this).after("<a href='#clear'>"+c.closeSymbol+"</a>");a("a[href='#clear']").css({color:c.color,"text-decoration":"none",display:"none","line-height":1,overflow:"hidden",position:"absolute",right:c.right,top:c.top},this);if(a(this).val().length>=1&&c.showOnLoad===true){a(this).siblings("a[href='#clear']").show()}a(this).focus(function(){if(a(this).val().length>=1){a(this).siblings("a[href='#clear']").show()}});a(this).blur(function(){var d=this;if(c.hideOnBlur){setTimeout(function(){a(d).siblings("a[href='#clear']").hide()},50)}});a(this).keyup(function(){if(a(this).val().length>=1){a(this).siblings("a[href='#clear']").show()}else{a(this).siblings("a[href='#clear']").hide()}});a("a[href='#clear']").click(function(){a(this).siblings(b).val("");a(this).hide();if(c.returnFocus===true){a(this).siblings(b).focus()}if(c.onClear){c.onClear(a(this).siblings("input"))}return false});return this}})})(jQuery);